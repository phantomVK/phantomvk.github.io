I"¤<p><strong>macOS</strong> å…ˆé€šè¿‡ <strong>Homebrew</strong> å®‰è£… <strong>Polipo</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>brew <span class="nb">install </span>polipo
</pre></td></tr></tbody></table></code></pre></div></div>

<p>åœ¨ç”¨æˆ·æ ¹ç›®å½•åˆ›å»ºæˆ–ä¿®æ”¹é…ç½®æ–‡ä»¶ <strong>~/.polipo</strong>ã€‚æœ‰ä¸¤ä¸ªå‚æ•°éœ€è¦ä¿®æ”¹ï¼š</p>

<ul>
  <li><strong>proxyPort</strong>ï¼š<strong>polipo</strong> æä¾›æœåŠ¡çš„ç«¯å£ï¼Œé»˜è®¤ä¸º8123ï¼›</li>
  <li><strong>socksParentProxy</strong>ï¼šæœ¬åœ° <strong>Socks5</strong> åœ°å€ï¼Œå…·ä½“çœ‹ <strong>ShadowSocks</strong> é…ç½®ï¼Œä¸€èˆ¬ä¸º <strong>â€œ127.0.0.1:1080â€</strong>ï¼›</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre>proxyAddress = "0.0.0.0"
proxyPort = 8123
allowedClients = 127.0.0.1, 10.0.1.0/24
allowedPorts = 1-65535
tunnelAllowedPorts = 1-65535
proxyName = "localhost"
cacheIsShared = false
socksParentProxy = "127.0.0.1:1080"
socksProxyType = socks5
# chunkHighMark = 33554432
# diskCacheRoot = ""
# localDocumentRoot = ""
disableLocalInterface = true
disableConfiguration = true
dnsUseGethostbyname = yes
disableVia = true
censoredHeaders = from,accept-language,x-pad,link
censorReferer = maybe
# maxConnectionAge = 5m
# maxConnectionRequests = 120
# serverMaxSlots = 8
# serverSlots = 2
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å¯åŠ¨ <strong>polipo</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>brew services start polipo
brew services restart polipo <span class="c"># é‡å¯</span>
brew services stop polipo    <span class="c"># å…³é—­</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å¦‚æœéœ€è¦å¼•å¯¼å…¨éƒ¨ç»ˆç«¯æµé‡ï¼Œå¯ä»¥æŠŠé…ç½®å†™åˆ°bashï¼š</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nb">export </span><span class="nv">http_proxy</span><span class="o">=</span><span class="s2">"http://127.0.0.1:8123"</span>
<span class="nb">export </span><span class="nv">https_proxy</span><span class="o">=</span><span class="s2">"http://127.0.0.1:8123"</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å¦‚æœåªé’ˆå¯¹æŸä¸ªå‘½ä»¤èµ° <strong>polipo</strong>ï¼Œæ‰§è¡Œå‘½ä»¤æ—¶æŒ‡å®šproxyï¼š</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nv">http_proxy</span><span class="o">=</span><span class="s2">"http://127.0.0.1:8123"</span> curl ip.gs
<span class="nv">https_proxy</span><span class="o">=</span><span class="s2">"http://127.0.0.1:8123"</span> curl ip.gs
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç”¨ <strong>curl</strong> æ£€æŸ¥ip</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="o">&gt;</span> <span class="nv">http_proxy</span><span class="o">=</span><span class="s2">"http://127.0.0.1:8123"</span> curl ip.gs

Current IP / å½“å‰ IP: 194.156.<span class="k">***</span>.<span class="k">***</span>
ISP / è¿è¥å•†:  thinkhuge.net
City / åŸå¸‚: Tokyo Tokyo
Country / å›½å®¶: Japan
IP.GS is now IP.SB, please visit https://ip.sb/ <span class="k">for </span>more information. / IP.GS å·²æ›´æ”¹ä¸º IP.SB ï¼Œè¯·è®¿é—® https://ip.sb/ è·å–æ›´è¯¦ç»† IP ä¿¡æ¯ï¼
Please <span class="nb">join </span>Telegram group https://t.me/sbfans <span class="k">if </span>you have any issues. / å¦‚æœ‰é—®é¢˜ï¼Œè¯·åŠ å…¥ Telegram ç¾¤ https://t.me/sbfans

  /<span class="se">\_</span>/<span class="se">\</span>
<span class="o">=(</span> Â°wÂ° <span class="o">)=</span>
  <span class="o">)</span>   <span class="o">(</span>  //
 <span class="o">(</span>__ __<span class="o">)</span>//
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>https</strong> å¯¼æµå¯ä»¥ç›´æ¥ä½¿ç”¨ <strong>http_proxy</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="o">&gt;</span> <span class="nv">https_proxy</span><span class="o">=</span><span class="s2">"http://127.0.0.1:8123"</span> curl https://google.com

&lt;HTML&gt;&lt;HEAD&gt;&lt;meta http-equiv<span class="o">=</span><span class="s2">"content-type"</span> <span class="nv">content</span><span class="o">=</span><span class="s2">"text/html;charset=utf-8"</span><span class="o">&gt;</span>
&lt;TITLE&gt;301 Moved&lt;/TITLE&gt;&lt;/HEAD&gt;&lt;BODY&gt;
&lt;H1&gt;301 Moved&lt;/H1&gt;
The document has moved
&lt;A <span class="nv">HREF</span><span class="o">=</span><span class="s2">"https://www.google.com/"</span><span class="o">&gt;</span>here&lt;/A&gt;.
&lt;/BODY&gt;&lt;/HTML&gt;
</pre></td></tr></tbody></table></code></pre></div></div>
:ET